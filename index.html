<html>

    <head>
        <script src="elements/typer-storage.js"></script>
        <style>
            .card {
                box-shadow: 0 4px 8px 0 rgba(0,0,0,0.2);
                transition: 0.3s;
                width: 40%;
                cursor: pointer;
            }

            .card:hover {
                box-shadow: 0 8px 16px 0 rgba(0,0,0,0.2);
            }

            .container {
                  padding: 2px 16px;
            }
        </style>
        <link rel="stylesheet" href="main.css" />
        <script>
            function onload(){
                const list = document.getElementsByTagName('typer-storage')[0].loadBookList();

                const fragment = document.createDocumentFragment();

                Object.values(list).forEach(f => {
                    const card = document.createElement('div');
                    card.classList.add('card');
                    card.innerHTML = `<div class='container'><h4>${f.title}</h4></div>`;
                    card.onclick = function(){
                        window.location =  `/book-index?id=${f.id}`;
                    };
                    fragment.appendChild(card);
                });

                document.body.appendChild(fragment);
            }
        </script>
    </head>

    <body onload="onload()">
        <a href="/book-new.html">add new book</a>
        <typer-storage></typer-storage>

    </body>

</html>
